NET = ./net/markov_net.py
build_commands := head_res_fc head_vgg_fc  \
		tail_res_fc tail_vgg_fc  \
		malimg_res_fc malimg_vgg_fc 

build_svm_commands := head_res_svm head_vgg_svm \
		tail_res_svm tail_vgg_svm \
		malimg_res_svm malimg_vgg_svm

test_commands := head_res_fc_pre head_vgg_fc_pre head_res_svm_pre head_vgg_svm_pre \
		tail_res_fc_pre tail_vgg_fc_pre tail_res_svm_pre tail_vgg_svm_pre \
		malimg_res_fc_pre malimg_vgg_fc_pre malimg_res_svm_pre malimg_vgg_svm_pre

build_malimg := malimg_res_fc malimg_vgg_fc malimg_res_svm malimg_vgg_svm

build_svm := head_res_svm head_vgg_svm tail_res_svm tail_vgg_svm malimg_res_svm malimg_vgg_svm

all: build

build: $(build_commands) $(build_svm_commands)
	@echo "Building"


test: $(test_commands)
	@echo "testing"

clean_logs: 
	find ./logs -type f -delete

clean_checkpoints:
	find ./checkpoints -type -f delete

malimg: $(build_malimg)
	@echo "malimg building"

svm: $(build_svm)
	@echo "svm building"


head_res_fc:
	python $(NET) --head --model=RESNET --fc
head_vgg_fc:
	python $(NET) --head --model=VGG19 --fc
head_res_svm:
	python $(NET) --head --model=RESNET --svm
head_vgg_svm:
	python $(NET) --head --model=VGG19 --svm
tail_res_fc:
	python $(NET) --tail --model=RESNET --fc
tail_vgg_fc:
	python $(NET) --tail --model=VGG19 --fc
tail_res_svm:
	python $(NET) --tail --model=RESNET --svm
tail_vgg_svm:
	python $(NET) --tail --model=VGG19 --svm
malimg_res_fc:
	python $(NET) --malimg --model=RESNET --fc
malimg_vgg_fc:
	python $(NET) --malimg --model=VGG19 --fc
malimg_res_svm:
	python $(NET) --malimg --model=RESNET --svm
malimg_vgg_svm:
	python $(NET) --malimg --model=VGG19 --svm
grey_res_fc:
	python $(NET) --grey --model=RESNET --fc
grey_vgg_fc:
	python $(NET) --grey --model=VGG19 --fc
grey_res_svm:
	python $(NET) --grey --model=RESNET --svm
grey_vgg_svm:
	python $(NET) --grey --model=VGG19 --svm
color_res_fc:
	python $(NET) --color --model=RESNET --fc
color_vgg_fc:
	python $(NET) --color --model=VGG19 --fc
color_res_svm:
	python $(NET) --color --model=RESNET --svm
color_vgg_svm:
	python $(NET) --color --model=VGG19 --svm

head_res_fc_pre:
	python $(NET) --head --model=RESNET --fc --pretrained
head_vgg_fc_pre:
	python $(NET) --head --model=VGG19 --fc --pretrained
head_res_svm_pre:
	python $(NET) --head --model=RESNET --svm --pretrained
head_vgg_svm_pre:
	python $(NET) --head --model=VGG19 --svm --pretrained
tail_res_fc_pre:
	python $(NET) --tail --model=RESNET --fc --pretrained
tail_vgg_fc_pre:
	python $(NET) --tail --model=VGG19 --fc --pretrained
tail_res_svm_pre:
	python $(NET) --tail --model=RESNET --svm --pretrained
tail_vgg_svm_pre:
	python $(NET) --tail --model=VGG19 --svm --pretrained
malimg_res_fc_pre:
	python $(NET) --malimg --model=RESNET --fc --pretrained
malimg_vgg_fc_pre:
	python $(NET) --malimg --model=VGG19 --fc --pretrained
malimg_res_svm_pre:
	python $(NET) --malimg --model=RESNET --svm --pretrained
malimg_vgg_svm_pre:
	python $(NET) --malimg --model=VGG19 --svm --pretrained
grey_res_fc_pre:
	python $(NET) --grey --model=RESNET --fc --pretrained
grey_vgg_fc_pre:
	python $(NET) --grey --model=VGG19 --fc --pretrained
grey_res_svm_pre:
	python $(NET) --grey --model=RESNET --svm --pretrained
grey_vgg_svm_pre:
	python $(NET) --grey --model=VGG19 --svm --pretrained
color_res_fc_pre:
	python $(NET) --color --model=RESNET --fc --pretrained
color_vgg_fc_pre:
	python $(NET) --color --model=VGG19 --fc --pretrained
color_res_svm_pre:
	python $(NET) --color --model=RESNET --svm --pretrained
color_vgg_svm_pre:
	python $(NET) --color --model=VGG19 --svm --pretrained

opcode:
	python $(NET) --opcode